# 本仓库的目的
&emsp;&emsp;看别人创作的作品是一种享受，但是看小说最烦的一点是小说作者更新的速度与我阅读速度严重不匹配，如果碰上不定期的拖更令人心烦了。不停的打开浏览器，打开界面，刷新，关掉手机。平白无故耗费时间。本应用的创建目的就是检索用户的阅读进度，并在小说更新时自动发送邮件到指定邮箱中。此方法既可以节约时间，又可以避免页面上的一大堆垃圾广告,提高阅读体验 :)

# 9.2 重构计划
&emsp;&emsp;考完试准备把这个服务放到服务器上去玩一玩，但是遇到了一些问题所以准备重构一遍。首先是数据存储的服务，其实是不需要使用数据库进行存储的（当然使用数据库也没问题），使用文本文档进行存储就可以了。另外需要考虑到本次是需要部署在服务器上的，那么需要考虑到对数据读取问题，不一定要频繁的访问文本文件进行查询信息。

## 信息存储与IO
&emsp;&emsp;之前选用数据库进行存储记录信息，直接异步对数据库操作即可。但是事实上并不需要直接操作数据库直接使用文本文件就可以存储一些内容。又注意到这是作为一个长期的服务运行在服务器上，那么可以使用合适的数据结构以及算法，比如可以参考cache的组织方式进行数据组织。刚开始可以使用一个简单的容器存储数据进行简单的遍历操作即可。之后可以更换为更为快速地B\B+树，红黑树进行数据的组织与操作。  
&emsp;&emsp;使用txt文件存储数据，直接读入程序中的数据结构。在某位数据被更新的时候就会重新写入文本文件中去。这是个很普通的思路，但问题很明显，数据从文本文件中读出在程序里遍历查询，一旦有更改就要全部覆盖掉文本文件。这样的效率真的很感人。。

## 正则匹配的问题
&emsp;&emsp;正则表达式匹配并不经常工作顺利，例如我换了一个url出来，然后之前写的程序就瞬间报废了。还好之前进行了一波比较大重构，代码各部分的耦合性显著降低，这一次改代码是比较好改的，但正则表达式面对不同的页面时候匹配到的内容就出现了较大程度的差异。现在在考虑如何能够快速地解决这个问题。大致有两种思路，第一种是直接使用框架解析html，第二种就是把我的正则表达式给升级一下，这样就可以针对更多的情况匹配更多的内容了。
- 简单的说一下用正则的想法：  
&emsp;&emsp;刚开始使用的正则主要是从头开始匹配，这样并不是很合理。这次可以换成多段式的思路，首先匹配出我需要内容分布的位置，然后再进一步再已经筛选出来的内容里继续匹配，这样成功率与准确率都会有所保障。现在去简单的试一下。

## 注
暂时不支持多小说查询，该功能会很快被添加，敬请期待。小说网站暂时只支持[笔趣阁](http://www.biquge.se/).
